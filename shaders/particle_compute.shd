#version 450

const uint PARTICLE_NB = 50;

layout (local_size_x = PARTICLE_NB) in;

struct Particle
{
    float pos_x, pos_y, pos_z;
};

layout (std430, binding=1) buffer particle_pos_buffer
{
    Particle particles[];
};


void update_particle(int i)
{
    particles[i].pos_x = i;
    particles[i].pos_y = 0;
    particles[i].pos_z = 0;
}

void main()
{
    update_particle(int(gl_GlobalInvocationID.x));
}
